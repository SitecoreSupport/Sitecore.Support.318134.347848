<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/" xmlns:role="http://www.sitecore.net/xmlconfig/role/" xmlns:env="http://www.sitecore.net/xmlconfig/env/">
    <sitecore role:require="Standalone OR ContentManagement OR ContentDelivery OR Processing OR Reporting">
        <pipelines>
            <httpRequestBegin>
                <processor type="Sitecore.Pipelines.HttpRequest.BeginDiagnostics, Sitecore.Kernel">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Pipelines.HttpRequest.BeginDiagnostics, Sitecore.Kernel" env:require="Profiling" />
            </httpRequestBegin>
            <httpRequestEnd>
                <processor type="Sitecore.Pipelines.HttpRequest.EndDiagnostics, Sitecore.Kernel">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Pipelines.HttpRequest.EndDiagnostics, Sitecore.Kernel" env:require="Profiling" />
            </httpRequestEnd>
            <mvc.renderPlaceholder>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderPlaceholder.InitializeProfiling, Sitecore.Mvc">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderPlaceholder.InitializeProfiling, Sitecore.Mvc" env:require="Profiling"/>
            </mvc.renderPlaceholder>
            <mvc.renderRendering>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.InitializeProfiling, Sitecore.Mvc">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.StartStatisticRecording, Sitecore.Mvc">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.RecordStatistic, Sitecore.Mvc">
                    <patch:d />
                </processor>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.InitializeProfiling, Sitecore.Mvc" env:require="Profiling"/>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.StartStatisticRecording, Sitecore.Mvc" env:require="Profiling"/>
                <processor type="Sitecore.Mvc.Pipelines.Response.RenderRendering.RecordStatistic, Sitecore.Mvc" env:require="Profiling"/>
            </mvc.renderRendering>
        </pipelines>
    </sitecore>
</configuration>